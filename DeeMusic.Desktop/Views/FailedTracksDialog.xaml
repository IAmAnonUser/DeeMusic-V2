<Window x:Class="DeeMusic.Desktop.Views.FailedTracksDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        Title="Failed Tracks" 
        Height="500" 
        Width="700"
        WindowStartupLocation="CenterOwner"
        Background="{DynamicResource MaterialDesignPaper}"
        TextElement.Foreground="{DynamicResource MaterialDesignBody}"
        FontFamily="{DynamicResource MaterialDesignFont}">
    
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Title -->
        <TextBlock Grid.Row="0" 
                   Text="Failed Tracks" 
                   Style="{StaticResource MaterialDesignHeadline5TextBlock}"
                   Margin="0,0,0,10"/>

        <!-- Summary -->
        <TextBlock Grid.Row="1" 
                   x:Name="SummaryText"
                   TextWrapping="Wrap"
                   Margin="0,0,0,15"
                   Foreground="{DynamicResource MaterialDesignBodyLight}"/>

        <!-- Failed tracks list -->
        <Border Grid.Row="2" 
                BorderBrush="{DynamicResource MaterialDesignDivider}"
                BorderThickness="1"
                CornerRadius="4">
            <ListView x:Name="FailedTracksList"
                      ScrollViewer.HorizontalScrollBarVisibility="Disabled">
                <ListView.ItemTemplate>
                    <DataTemplate>
                        <Grid Margin="0,8">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            
                            <!-- Track name -->
                            <TextBlock Grid.Row="0" 
                                       Text="{Binding DisplayName}"
                                       FontWeight="Medium"
                                       TextWrapping="Wrap"/>
                            
                            <!-- Error message -->
                            <TextBlock Grid.Row="1" 
                                       Text="{Binding ErrorMessage}"
                                       Foreground="#EF4444"
                                       TextWrapping="Wrap"
                                       Margin="0,4,0,0"
                                       FontSize="12"/>
                        </Grid>
                    </DataTemplate>
                </ListView.ItemTemplate>
            </ListView>
        </Border>

        <!-- Close button -->
        <Button Grid.Row="3" 
                Content="Close" 
                Style="{StaticResource MaterialDesignFlatButton}"
                HorizontalAlignment="Right"
                Margin="0,15,0,0"
                Click="CloseButton_Click"/>
    </Grid>
</Window>
